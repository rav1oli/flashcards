{% load static %}
{% load markdown_filter %}
{% for card in card_list %}

    <div class="card item selectable" _="on click toggle .selected on closest .card">
        <input type="hidden" name="card_id" value="{{ card.pk }}" />

        <p class="label label-front">Front: </p>
        <p class="label label-back">Back: </p>

        <div class="card-edit-icons">

            <img class="icon hoverable card-edit-icon card-bin-icon" src="{% static 'frontend/icons/bin.svg' %}" width="25px" height="25px" title="Delete Card" alt="Delete Card"
                hx-delete="{% url 'delete_card' pk=card.id %}"
                hx-trigger="click "
                hx-target="closest .card"
                hx-swap="outerHTML"/>

            <a href="{% url 'update_card' card.pk %}"><img class="icon hoverable card-edit-icon card-pencil-icon" src="{% static 'frontend/icons/pencil.svg' %}" width="25px" height="25px" title="Edit Card" alt="Edit Card"/></a>

            <img class="icon hoverable card-edit-icon card-add-to-deck-icon" src="{% static 'frontend/icons/add.svg' %}" width="25px" height="25px" title="Add Card to Decks" alt="Add Card to Decks"
                hx-get="{% url 'deck_card_form' pk=card.pk %}"
                hx-target="body"
                hx-swap="beforeend"/>

            <img class="icon hoverable card-edit-icon card-add-tags-icon" src="{% static 'frontend/icons/tag.svg' %}" width="25px" height="25px" title="Set Tags for Card" alt="Set Tags for Card"
                hx-get="{% url 'tag_card_form' pk=card.pk %}"
                hx-target="body"
                hx-swap="beforeend"/>
        </div>

        <img class="icon hoverable flip-icon" src="{% static 'frontend/icons/curve-down-arrow.svg' %}" width="25px" height="25px" title="Flip" alt="Flip" />

        <div class="card-front">
            {{ card.front|markdownify|safe }}
        </div>
        <div class="card-back">
            {{ card.back|markdownify|safe }}
        </div>

    </div>

{% endfor %}